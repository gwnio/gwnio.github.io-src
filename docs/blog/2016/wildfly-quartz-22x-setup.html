<!doctype html>
<html lang="en">

<head>
	<title>Wildfly Quartz 2.2x Setup - @rossgodwin</title>
	<meta name="description" content="This explains how to setup Quartz scheduler with Wildfly."/>
	
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<meta name="dc.language" content="en" />
	<meta name="dc.license" content="">
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="Wildfly Quartz 2.2x Setup - @rossgodwin" />
	<meta property="og:description" content="This explains how to setup Quartz scheduler with Wildfly." />
	<meta property="og:url" content="http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html" />
	<meta property="og:site_name" content="@rossgodwin" />

	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="Wildfly Quartz 2.2x Setup - @rossgodwin" />
	<meta name="twitter:description" content="This explains how to setup Quartz scheduler with Wildfly." />
	<meta name="twitter:domain" content="rossgodwin.github.io/v1.rossgodwin.com-src">
	<meta name="tag" content="wildfly">
	<meta name="tag" content="quartz">

		<link href="http://rossgodwin.github.io/v1.rossgodwin.com-src/feeds/all.xml" type="application/atom+xml" rel="alternate" title="@rossgodwin Full Atom Feed" />
	<link href="http://rossgodwin.github.io/v1.rossgodwin.com-src/feeds/notes.xml" type="application/atom+xml" rel="alternate" title="@rossgodwin Categories Atom Feed" />

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="http://rossgodwin.github.io/v1.rossgodwin.com-src/theme/css/style.css" type="text/css">
	
</head>

<body class="w3-light-grey">
	<div class="w3-bar w3-black" id="my-topbar">
		<a href="javascript:void(0);" class="w3-bar-item w3-button my-topbar-menu-button" onclick="topbarMenuButtonClickHandler()"><i class="fa fa-bars"></i></a>
		<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/index.html" class="w3-bar-item w3-button"><i class="fa fa-home"></i></a>
		<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/blog" class="w3-bar-item w3-button"><b>Blog</b></a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/archives/" class="w3-bar-item w3-button"><b>Archives</b></a>
	</div>
	

	<header class="w3-container w3-center w3-padding-48 w3-white">
		<h1 class="w3-xxxlarge"><b>@rossgodwin</b></h1>
		<h6>Just documenting some things as I encounter <span class="w3-tag">...</span></h6>
	</header>

	
	<div class="w3-content" style="max-width:1600px">

	<div class="w3-row">
   		<div class="w3-col l8 s12 w3-padding">
   			<div class="w3-white">
				<div class="w3-container">
					<h3>Wildfly Quartz 2.2x Setup</h3>
<div class="article_meta">
		<span class="w3-tag w3-text-white">Dec 15, 2016</span>
		<span>Filed under <a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/category/notes/">notes</a></span>
		<span>
				<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/quartz/">#quartz</a>
				<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/wildfly/">#wildfly</a>
		</span>
<span><a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.txt">Markdown source</a></span></div>					
<div class="w3-row w3-margin w3-center">
	<div class=w3-hide-small>
		<a href="http://www.facebook.com/sharer.php?u=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html" title="Share on Facebook" class="w3-button w3-border w3-button-facebook" target="_blank"><i class="fa fa-facebook w3-margin-right"></i><b>Facebook</b></a>
		<a href="https://twitter.com/share?url=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html&text=This explains how to setup Quartz scheduler with Wildfly." title="Share on Twitter" class="w3-button w3-border w3-button-twitter" target="_blank"><i class="fa fa-twitter w3-margin-right"></i><b>Twitter</b></a>
		<a href="https://plus.google.com/share?url=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html" title="Share on Google+" class="w3-button w3-border w3-button-google-plus" target="_blank"><i class="fa fa-google-plus w3-margin-right"></i><b>Google</b></a>
	</div>
	<div class="w3-hide-large w3-hide-medium">
		<a href="http://www.facebook.com/sharer.php?u=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html" title="Share on Facebook" class="w3-button w3-border w3-padding-medium w3-button-facebook" target="_blank"><i class="fa fa-facebook"></i></a>
		<a href="https://twitter.com/share?url=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html&text=This explains how to setup Quartz scheduler with Wildfly." title="Share on Twitter" class="w3-button w3-border w3-padding-medium w3-button-twitter" target="_blank"><i class="fa fa-twitter"></i></a>
		<a href="https://plus.google.com/share?url=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html" title="Share on Google+" class="w3-button w3-border w3-padding-medium w3-button-google-plus" target="_blank"><i class="fa fa-google-plus"></i></a>
	</div>
</div>					
					<div class="article_content">
						<h2>Step 1</h2>
<p>Download <code>quartz-2.2.3</code> and extract using 7-zip</p>
<h2>Step 2</h2>
<p>Dependencies</p>
<p>For slf4j quartz depends on <code>slf4j-api-1.7.7.jar</code> and <code>slf4j-log4j12-1.7.7.jar</code>.
Wildfly does contain the slf4j module <code>{wildfly home}\modules\system\layers\base\org\slf4j</code>.
In my version of wildfly it was <code>1.7.7.jbossorg-1</code> so I went with this.  To do so I updated the deployment dependencies in <code>WebRoot/WEB-INF/jboss-deployment-structure.xml</code> to include <code>&lt;module name="org.slf4j" /&gt;</code></p>
<p>The documentation mentions "If you want to store your scheduling data in a database then you will also need the c3p0 library." so I went ahead and included the version that came with quartz.</p>
<p>And then of cource the quartz jars: <code>quartz-2.2.3.jar</code> and <code>quartz-jobs-2.2.3.jar</code></p>
<h2>Step 3</h2>
<p><code>quartz.properties</code></p>
<p>I placed mine in <code>WILDFLY_HOME\bin\conf</code>.  The documentation also specifies you can place it under <code>WEB-INF</code>.</p>
<div class="gist">
    <script src='https://gist.github.com/b6028016e9f55c67bbc2984019cbcc54.js'></script>
    <noscript>
        <pre><code>org.quartz.scheduler.instanceName=AppScheduler
org.quartz.threadPool.threadCount=3
org.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool

org.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX
org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.StdJDBCDelegate
org.quartz.jobStore.useProperties=false
org.quartz.jobStore.tablePrefix=QRTZ_
org.quartz.jobStore.dataSource=myDS

org.quartz.dataSource.myDS.jndiURL=java:/{name of datasource}</code></pre>
    </noscript>
</div>
<p>Note: You can find the jndi name of your datasource under the datasources tag in your Wildfly <code>standalone.xml</code>.
Note: If you have multiple wildfly instances running, <a href="http://www.quartz-scheduler.org/documentation/quartz-2.2.x/configuration/ConfigJDBCJobStoreClustering.html" target="_blank">Quartz can be configured for clustering</a>.</p>
<h2>Step 4</h2>
<p>Under <code>{QUARTZ Root}\docs\dbTables</code> they provide the table creation scripts for several databases.  Go ahead and create the tables for your database.</p>
<h2>Step 5</h2>
<p>I initialized the scheduler within a <a href="http://quartz-scheduler.org/documentation/quartz-2.2.x/cookbook/ServletInitScheduler" target="_blank">servlet container</a></p>
<h2>Step 6</h2>
<p>You can get access to <code>org.quartz.impl.StdSchedulerFactory</code> as a attribute in <code>javax.servlet.GenericServlet#getServletContext()</code></p>
<p><code>StdSchedulerFactory factory = (StdSchedulerFactory) getServletContext().getAttribute(QuartzInitializerServlet.QUARTZ_FACTORY_KEY);</code></p>
					</div>
					
<div class="w3-row w3-margin w3-center">
	<div class=w3-hide-small>
		<a href="http://www.facebook.com/sharer.php?u=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html" title="Share on Facebook" class="w3-button w3-border w3-button-facebook" target="_blank"><i class="fa fa-facebook w3-margin-right"></i><b>Facebook</b></a>
		<a href="https://twitter.com/share?url=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html&text=This explains how to setup Quartz scheduler with Wildfly." title="Share on Twitter" class="w3-button w3-border w3-button-twitter" target="_blank"><i class="fa fa-twitter w3-margin-right"></i><b>Twitter</b></a>
		<a href="https://plus.google.com/share?url=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html" title="Share on Google+" class="w3-button w3-border w3-button-google-plus" target="_blank"><i class="fa fa-google-plus w3-margin-right"></i><b>Google</b></a>
	</div>
	<div class="w3-hide-large w3-hide-medium">
		<a href="http://www.facebook.com/sharer.php?u=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html" title="Share on Facebook" class="w3-button w3-border w3-padding-medium w3-button-facebook" target="_blank"><i class="fa fa-facebook"></i></a>
		<a href="https://twitter.com/share?url=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html&text=This explains how to setup Quartz scheduler with Wildfly." title="Share on Twitter" class="w3-button w3-border w3-padding-medium w3-button-twitter" target="_blank"><i class="fa fa-twitter"></i></a>
		<a href="https://plus.google.com/share?url=http://rossgodwin.github.io/v1.rossgodwin.com-src/blog/2016/wildfly-quartz-22x-setup.html" title="Share on Google+" class="w3-button w3-border w3-padding-medium w3-button-google-plus" target="_blank"><i class="fa fa-google-plus"></i></a>
	</div>
</div>				</div>
			</div>
			
			<div class="w3-margin-top w3-white">
				<div class="w3-padding">
					<h2>Comments</h2>
	<div id="disqus_thread"></div>
	<script type="text/javascript">
		var disqus_identifier = "blog/2016/wildfly-quartz-22x-setup.html";
		(function() {
			var dsq = document.createElement('script');
			dsq.type = 'text/javascript';
			dsq.async = true;
			dsq.src = 'https://v1.rossgodwin.com.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
				</div>
			</div>
		</div>
		
		<div class="w3-col l4 w3-padding">
<div class="w3-white">
	<div class="w3-padding w3-black">
		<h4>Tags</h4>
	</div>
	<div class="w3-padding">			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/agile/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">agile (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/android/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">android (2)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/android-studio/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">android studio (2)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/angularjs/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">angularjs (6)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/apache/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">apache (3)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/batteries/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">batteries (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/bootstrap/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">bootstrap (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/css/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">css (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/dialogflow/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">dialogflow (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/eclipse/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">eclipse (2)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/emv-cards/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">emv cards (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/grunt/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">grunt (2)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/gxt2/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">gxt2 (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/gxt3/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">gxt3 (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/headjs/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">headjs (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/hibernate/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">hibernate (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/httpd/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">httpd (2)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/intellij/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">intellij (2)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/ios/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">ios (2)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/jboss/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">jboss (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/jsf/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">jsf (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/links/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">links (3)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/lipo/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">lipo (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/markdown/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">markdown (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/microsoft/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">microsoft (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/mod_proxy/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">mod_proxy (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/myfaces/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">myfaces (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/pelican/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">pelican (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/quartz/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">quartz (2)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/requirejs/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">requirejs (3)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/rewrite/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">rewrite (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/rg-archetype-j2ee-angularjs/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">rg-archetype-j2ee-angularjs (5)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/sencha/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">sencha (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/software-development/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">software development (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/splash-screen/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">splash screen (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/subversion/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">subversion (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/svn/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">svn (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/tortoisesvn/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">tortoisesvn (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/ui-router/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">ui-router (2)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/vss/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">vss (1)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/wildfly/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">wildfly (4)</a>
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/tag/xcode/" class="w3-button w3-margin-xxsmall w3-padding-small w3-border">xcode (2)</a>
	</div>
</div>			
			<div class="w3-margin-top">
<div class="w3-white">
	<div class="w3-padding w3-black">
		<h4>Follow Me</h4>
	</div>
	<div class="w3-padding">
			<a href="https://github.com/rossgodwin" class="w3-margin-xxsmall" target="_blank"><i class="fa fa-github w3-xlarge w3-hover-opacity"></i></a>
			<a href="feeds/all.xml" class="w3-margin-xxsmall"><i class="fa fa-rss-square w3-xlarge w3-hover-opacity"></i></a>
	</div>
</div>			</div>
		</div>
	</div>

	</div>
	
<footer class="w3-container w3-dark-grey" style="padding:32px">
	<div class="w3-row">
		<div class="w3-col l4">
			<a href="#" class="w3-button w3-black w3-padding-large w3-margin-bottom"><i class="fa fa-arrow-up w3-margin-right"></i>To the top</a>
			&nbsp;&nbsp;
			<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/blog" class="w3-button w3-black w3-padding-large w3-margin-bottom">Blog</a>
				&nbsp;&nbsp;
				<a href="http://rossgodwin.github.io/v1.rossgodwin.com-src/archives/" class="w3-button w3-black w3-padding-large w3-margin-bottom">Archives</a>
		</div>
	</div>
</footer>	
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-104084348-2', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
</script>


	<script type="text/javascript" src="http://rossgodwin.github.io/v1.rossgodwin.com-src/theme/js/site.js"></script>
	<script type="text/javascript">
		(function() {
			var dsq = document.createElement('script');
			dsq.type = 'text/javascript';
			dsq.async = true;
			dsq.src = 'https://v1.rossgodwin.com.disqus.com/count.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
	<script type="text/javascript" async src="https://platform.twitter.com/widgets.js"></script>
</body>

</html>